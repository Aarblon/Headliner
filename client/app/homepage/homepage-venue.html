<div ng-init="initVenue()">
  
  <!-- USER TABS FOR FIND AND PROFILE -->

  <h3>Search Artists</h3>
  
  <hr>

  <div class="row">
  <!-- begin filters for artists -->
  <div class="col s3">
  <input type='text' ng-model='search.artist_name' placeholder='search by artist name' />
    <div class="row">
      <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
        <div class="panel panel-default">

          <div class="panel-heading" role="tab" id="headingOne">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#distance" aria-expanded="true" aria-controls="collapseOne">
                Filter By Distance
              </a>
            </h6>
          </div>
          <div id="distance" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <form>
              <select class="browser-default" ng-model="distance">
                <option value="" disabled selected>select distance</option>
                <option value="10">10 miles</option>
                <option value="25">25 miles</option>
                <option value="50">50 miles</option>
                <option value="100">100 miles</option>
              </select>
            </form>  
          </div>

          <div class="panel-heading" role="tab" id="headingOne">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#availability" aria-expanded="true" aria-controls="collapseOne">
                Filter By Availability
              </a>
            </h6>
          </div>
          <div id="availability" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">

            <input type="text" placeholder='  select date' datepicker-popup="MM/dd/yyyy" ng-model="date" is-open="opened" min-date="minDate" show-weeks="false" show-button-bar="false" ng-click="open()"/>
          </div>

          <div class="panel-heading" role="tab" id="headingTwo">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#genre" aria-expanded="true" aria-controls="collapseOne">
                Filter By Genre
              </a>
            </h6>
          </div>
          <div id="genre" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <div ng-repeat="(oneGenre,enabled) in allGenres">
              <p class="squish">
                <input type="checkbox" id="{{oneGenre + 'g'}}" ng-model="genre[oneGenre]"/>
                <label for="{{oneGenre  + 'g'}}">{{ oneGenre }}</label>
              </p>
            </div>
          </div>

          <div class="panel-heading" role="tab" id="headingTwo">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#signed" aria-expanded="true" aria-controls="collapseOne">
                Filter By Sign
              </a>
            </h6>
          </div>
          <div id="signed" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <form>
              <p class="squish">
                <input type="checkbox" id="is_signed" ng-model="signed.yes"/>
                <label for="is_signed">Signed</label>
              </p>  
              <p class="squish">
                <input type="checkbox" id="not_signed" ng-model="signed.no"/>
                <label for="not_signed">Not Signed</label>
              </p>
            </form>  
          </div>

          <div class="panel-heading" role="tab" id="headingOne">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#tour" aria-expanded="true" aria-controls="collapseOne">
                Filter By Touring
              </a>
            </h6>
          </div>
          <div id="tour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <form>
              <p class="squish">
                <input type="checkbox" id="local" ng-model="touring.Local"/>
                <label for="local">Local</label>
              </p> 
              <p class="squish">
                <input type="checkbox" id="touring" ng-model="touring.Touring"/>
                <label for="touring">Touring</label>
              </p>  
              <p class="squish">
                <input type="checkbox" id="both" ng-model="touring.Both"/>
                <label for="both">Both</label>
              </p>
            </form>  
          </div>

          <div class="panel-heading" role="tab" id="headingOne">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#booked" aria-expanded="true" aria-controls="collapseOne">
                Filter By Booked
              </a>
            </h6>
          </div>
          <div id="booked" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <form>
              <p class="squish">
                <input type="checkbox" id="many" ng-model="booked.many"/>
                <label for="many">>100</label>
              </p>  
              <p class="squish">
                <input type="checkbox" id="some" ng-model="booked.some"/>
                <label for="some">>10</label>
              </p>
              <p class="squish">
                <input type="checkbox" id="few" ng-model="booked.few"/>
                <label for="few">>0</label>
              </p>
              <p class="squish">
                <input type="checkbox" id="none" ng-model="booked.none"/>
                <label for="none">0</label>
              </p>
            </form>  
          </div>

          <div class="panel-heading" role="tab" id="headingOne">
            <h6 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#reviews" aria-expanded="true" aria-controls="collapseOne">
                Filter By Reviews
              </a>
            </h6>
          </div>
          <div id="reviews" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <form>
              <p class="squish">
                <input type="checkbox" id="four" ng-model="reviews.four"/>
                <label for="four">>4 stars</label>
              </p>  
              <p class="squish">
                <input type="checkbox" id="three" ng-model="reviews.three"/>
                <label for="three">>3 stars</label>
              </p>
              <p class="squish">
                <input type="checkbox" id="two" ng-model="reviews.two"/>
                <label for="two">>2 stars</label>
              </p>
              <p class="squish">
                <input type="checkbox" id="one" ng-model="reviews.one"/>
                <label for="one">>1 star</label>
              </p>
              <p class="squish">
                <input type="checkbox" id="zero" ng-model="reviews.zero"/>
                <label for="zero">No reviews</label>
              </p>
            </form>  
          </div>
        </div>
      </div>                               
    </div>
  </div>
  <!-- end filters for artists -->

  <div class="col s8">
    <div ng-repeat="artist in artists | filter:search | filter:genreFilter | filter:signedFilter | filter:touringFilter | filter:bookedFilter | filter:reviewsFilter | filter:dateFilter | filter:distanceFilter">
      <div class="card col s10 offset-s1">
        <div class="card-image waves-effect waves-block waves-light col s3">
          <img class="activator profPic" ng-src="{{artist.profile_pic || 'http://i.imgur.com/ZNc1JZq.jpg'}}">
        </div>
        <div class="card-content">
          <span class="card-title activator grey-text text-darken-4">{{artist.artist_name}}<i class="material-icons right">more_vert</i></span>
          <p>{{ artist.city }} , {{ artist.state }}</p> 
          <div class="chip lime lighten-4" ng-repeat="(key,data) in artist.genre">{{ key }}</div>
          <hr>
          <p><a href='{{"#/profile-artist/" + artist.artist_id}}'>get more details</a></p>
        </div>
        <div class="card-reveal">
          <span class="card-title grey-text text-darken-4">About {{artist.artist_name}}<i class="material-icons right">close</i></span>
            <p class="grey-text text-lighten">{{ artist.about }}</p>
            <h6 ng-repeat="(key,data) in artist.type">{{ key }}</h6>
        </div>
      </div>
    </div>  
  </div>
</div>
